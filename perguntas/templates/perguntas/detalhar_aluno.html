{% extends 'base.html' %}
{% block title %}Detalhes do Aluno: {{ aluno.nome }}{% endblock %}
{% block content %}
    <h1>Detalhes do Aluno: {{ aluno.nome }}</h1>
    <p><strong>Email:</strong> {{ aluno.email }}</p>
    <p><strong>Data de Inscrição:</strong> {{ aluno.data_inscricao }}</p>
    <p><strong>Nível de Programação:</strong> {{ aluno.get_nivel_programacao_display }}</p>
    <p><strong>Linguagem Favorita:</strong> {{ aluno.linguagem_favorita|default:"Não informado" }}</p>
    <p><strong>Total de Respostas:</strong> {{ aluno.total_respostas }}</p>
    <p><strong>Enquetes Participadas:</strong> {{ aluno.enquetes_participadas }}</p>

    <h2>Áreas de Interesse</h2>
    {% if interesses %}
        <ul>
            {% for interesse in interesses %}
                <li><a href="{% url 'detalhar_area_interesse' interesse.area_interesse.id %}">{{ interesse.area_interesse.nome }}</a> (Nível: {{ interesse.nivel_interesse }})</li>
            {% endfor %}
        </ul>
    {% else %}
        <p>Este aluno não possui áreas de interesse registradas.</p>
    {% endif %}

    <h2>Respostas Dadas</h2>
    {% if respostas %}
        <ul>
            {% for resposta in respostas %}
                <li><strong>Enquete:</strong> {{ resposta.pergunta.enquete.titulo }} - <strong>Pergunta:</strong> {{ resposta.pergunta.texto }} - <strong>Resposta:</strong> {{ resposta.valor_resposta|default:"Não respondida" }}</li>
            {% endfor %}
        </ul>
    {% else %}
        <p>Este aluno ainda não respondeu a nenhuma enquete.</p>
    {% endif %}

    <a href="{% url 'listar_alunos' %}" class="back-link">Voltar para a lista de alunos</a>
    <a href="{% url 'index' %}" class="back-link">Voltar para a página inicial</a>
{% endblock %}